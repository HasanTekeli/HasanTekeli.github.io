JS kullanarak bir web sayfasında yapabileceklerimiz (buna DOM Manipulation deniyor)şu şekilde:

* change all the HTML elements in the page
* change all the HTML attributes in the page
* change all the CSS styles in the page
* remove existing HTML elements and attributes
* add new HTML elements and attributes
* Javascript can react to all existing HTML events in the page
* JavaScript can create new HTML events in the page

DOM'un açılımı document object model. DOM web sitesinde bulunan parçaların tümüdür (head, body, h1, p etc...). Bir websitesini açmaya çalıştığımızda tarayıcı otomatik olarak DOM'u oluşturur. Javascript'in site üzerinde gerekli değişiklikleri yapabilmesi için DOM'a ihtiyaç duyuyoruz.

Tarayıcılarda DOM'a document object'i ile ulaşabiliriz (konsola "document.write("hello")" yazarsak web sayfasında hello yazısını görebiliriz.

Document taraıcıda gördüğümüz ekrandır. Document'in parent object'i window'dur. Window ise tarayıcının tamamıdır. Mesela daha önce gördüğümüz alert(), window'un alt fonksiyonudur. Bu sayede alert() function'ını önüne birşey yazmadan kullanabiliriz. window'un altında bulunan function'lar window belirtilmeden kullanılabilir, çünkü en kapsayıcı olan window'dur. Ancak üstte gördüğümüz write() function'ını tek başına kullanamayız. Çünkü window'un değil document'in bir fonksiyonudur (bu yüzden document.write() yazmalıyız).

JS document object'ini gerekli görürse değiştirebilir. 

-------------------
DOM Selectors
-------------------



getElementsByTagName
--------------------

- Tagname dediği h1, title gibi html tagleridir.

getElementsByClassName
----------------------

- bir tag'in içerisinde class attribute kullandıysak (mesela <h1 class="titleOfText">), bu class'a sahip olan tüm attribute'leri seçmek için kullanırız. Eğer bu class dahilindeki tek bir element'i seçeceksek "document.getElementsByClassName("second")[0]" şeklinde yazmalıyız.

getElementById
--------------

- Üstteki gibi class yerine veya yanında bir ID kullandıysak bunu seçmek için kullanırız. Ancak üstteki ikisinde çoğul idi (elements) bunda tekil olmasının sebebi kod içinde kullanılan her bir id unique olmalı, yani tek bir şey için kullanılmalı.

Bu üstteki üçünden daha etkili ve daha yeni olan iki seçici aşağıdaki querySelector'lar.

querySelector
-------------

- document.querySelector("h1") sadece ilk item'ı seçer

querySelectorAll
----------------

- Üstteki gibi ama hepsini seçer. Birden fazla farklı attribute'leri seçeceksek parantez içinde virgül ile ayırarak yazabiliriz ("h1 ,li").

getAttribute
------------

- document.querySelector("li").getAttribute("random"); ile random'ın değerini alabiliriz (örnekte 23 çıkıyor). Bunun için önce item'ı seçmemiz (querySelector'lardan biri ile), sonra devamına . ile eklememiz gerekiyor.

setAttribute
------------

- document.querySelector("li").setAttribute("random", "1000"); yazdığımızda random'ın değerini 1000'e dönüştürür. Bununla aynı zamanda class ekleyebilir ve css'i değiştirebiliriz.

Ancak değişimi bunlarla yapmaktansa aşağıdakilerle yapmak daha uygun.

style.{property}
----------------

- document.querySelector("li").style.background = "yellow" yazdığımızda "li"nin arka planını sarı yapar. Ancak css ve html'in ayrı olması gerektiği için (separation of concerns) aşağıdakilerle yapmak daha iyi olur.

className
----------

- document.querySelector("h1").className = "coolTitle"; yazdığımızda "h1"a coolTitle class'ını ekler

classList
---------

- document.querySelector("li").classList; yazdığımızda class'ların listesini verir. Alt başlık olarak aşağıdakilere bakalım.

classList.add("coolTitle"); ile yeni bir class ekleriz

classList.remove("") ile kaldırırız.

classList.toggle("") remove yerine kullanılabilir. Bu sayede class'lar arasında (orijinal ile sonradan eklenen) geçiş yapılabilir. Mesela shopping list'te bir item'a tıkladığımızda üzeri çizili olmaaını ikinci kere tıkladığımızda normale dönmesini istiyorsak bunu kullanırız.

innerHTML
---------

- Bunu kullanmak tehlikeli diyor. 

document.querySelector("h1").innerHTML = "<strong>!!!!</strong>; yazdığımızda h1'ı seçer ve onu !!!!! ile değiştirir.

parentElement
-------------

- bir item'ın parent elementini bulmada kullanılır.

document.querySelectorAll("li")[1].parentElement; yazdığımızda <ul> değerini verir çünkü listenin ana elementi <ul> veya <ol> dur.

children
--------

- Bir item'ın children'ını verir.

document.querySelectorAll("li")[1].parentElement.parentElement; yazdığımızda <ul> neyin içindeyse (body) onu verir. Sonuna children eklersek body'nin içindeki tüm elementleri listeler. (document.querySelectorAll("li")[1].parentElement.parentElement.children)

---------------------------------------------------------------------------------------
!! Önemli bir Nokta
Eğer birşeyi kullanacağımızda sürekli querySelector ile seçmemiz gerekiyorsa bu performans sorununa neden olabilir. Bunun yerine bu seçim işini en başta bir değişkene atayabiliriz (cache selectors)

- var h1 = document.querySelector("h1");
---------------------------------------------------------------------------------------

----------
DOM Events
----------

Sayfada olanları dinleyebilmemizi (mouse hareketleri-click, mouseover, veya klavye hareketleri etc..) sağlayan işlevleri öğreniyoruz.

developers.mozilla.org'ta bu eventlerin kapsamlı bir listesi var.

	var button = document.getElementsByTagName("Button")[0];
	button.addEventListener("click", function() {
		console.log("Click!!!!");
	})

İlk satırda tag name'i button olanlardan ilkini ([0]) seçtik ve button değişkenine atadık ve ikinci satırda Event dinlemeyi gerçekleştirdik. Event'leri yazarken parantez içine ilk olarak event'i yazıyoruz ("click"), virgülden sonra olmasını istediğimiz function'ı yazıyoruz.

DOM Events kullanarak güzel bir shopping list yapabiliriz. İlk olarak html kodunu buraya alayım.

	<!DOCTYPE html>
	<html>
	<head>
		<title>JS + DOM</title>
	</head>
	<body>
		<h1>Shopping List</h1>
		<input id="userinput" type="text" placeholder="enter items">
		<button id="enter">Enter</button>
		<ul>

		</ul>
	</body>
	</html>

Bu kodda sadece başlık olarak Shopping List yazısı, altında metin girilecek bir kutu ve yanında da Enter butonu bulunuyor. Şimdi JS koduna geçiyoruz.

1-	var button = getElementById("enter");
2-	var input = document.getElementById("userinput");
6-	var ul = document.querySelector("ul")
3-	button.addEventListener("click", function() {
4-		var li = document.createElement("li");
5-//	li.appendChild(document.createTextNode("testing"))
8-		li.appendChild(document.createTextNode(input.value));
7-		ul.appendChild(li);
		})

Açıklama; üstteki html kodunda butona ve input yerine ID tanımlamıştık. İlk iki satırda bunları bir değişkene atadık. 
3. satırda butona bir Event Listener ekledik ve butona tıklandığında ne olacağını function ile belirttik. İlk olmasını istediğimiz şey, yeni bir list item (li) oluşturmak, (4.satır)bunu da document'in createElement function'ı ile yapıyoruz.

5.satırda, appendChild ve devamında gelen createTextNode işlevi li'a metin eklemeye yarıyor. Bunu burada bırakırsak bir li oluştururuz ancak herhangi bir parent object'i olmaz (yapmamız gereken "ul" in içine atmak). Ancak bu sadece parantez içine yazdığımız "testing"i yeni listeye ekler. Biz metin kutusuna girilecek metni eklemek istiyoruz. O yüzden şimdilik onu comment out// ediyoruz.

6.satırda (aslında 3.satır) üstte bahsedilen ul içine bir item eklemek için ilk ul'i seçip ul değişkenine atadık.

7 numaralı satırda yeni oluşturulan li'ı ul içine yerleştirdik.

8 numaralı satırda metin kutusuna girilen bilginin listemize eklenmesini sağladık. Bunu başarmamızı sağlayan input.value metnini en başta yazdığımız bir değişken olan input'tan alıyor. Ancak bu şekliyle eğer metin kutusu boş ise yine de listeye boş bir item ekler. Bunu engellemek için 9 numarayla devam ediyoruz. Kod değişeceği için yalın halini aşağıya alıyorum.

	var button = getElementById("enter");
	var input = document.getElementById("userinput");
	var ul = document.querySelector("ul")
	button.addEventListener("click", function() {
9-		if (input.value.length > 0) {
			var li = document.createElement("li");
			li.appendChild(document.createTextNode(input.value));
			ul.appendChild(li);
10-			input.value = "";
			}
		})

9 numaralı satırda bir if condition oluşturduk. Burada girilen değer 0'dan büyük olursa function'ı çalıştır diyor. Üstteki kodda yazdığımız herşeyi bu yeni if condition'ın içine yapıştırdık. Burada yeni girdi yazıp enter butonuna bastığımızda metin kutusunun eski boş haline dönmesi için 10 numaralı satırda input.value'ya boş bir değer olan "" girdik.

Butona basarak list item ekleyebiliyoruz. Sadece klavyedeki enter tuşuna basarak da giriş yapabilmek için Javascript Char Codes göz önünde bulundurarak şu eklemeyi yapıyoruz.

	input.addEventListener("keypress", function(event) {
		if (input.value.length > 0 && event.keyCode === 13) {
			var li = document.createElement("li");
			li.appendChild(document.createTextNode(input.value));
			ul.appendChild(li);
			input.value = "";
			}
		})

Burada yaptığımız değişiklikler şu şekilde. İlk olarak bu bir button değil input olduğu için ilk satırın ilk kelimesi olan button'ı input ile değiştirdik. Sonrasında eventlistener'ı keypress yaptık ve function'a bir isim verdik(event). Boş metin kutusunu kabul etmemesi için yaptığımız if condition'a bir başka değer daha ekleyerek enter tuşunun keyCode'u olan 13'ü ekliyoruz (Burada event.keyCode yerine event.which'te aynı işlevi görür). Buraya kadar yazdığımız kodun son hali şu şekilde:

1-	var button = getElementById("enter");
2-	var input = document.getElementById("userinput");
3-	var ul = document.querySelector("ul")

4-	button.addEventListener("click", function() {
5-		if (input.value.length > 0) {
6-			var li = document.createElement("li");
7-			li.appendChild(document.createTextNode(input.value));
8-			ul.appendChild(li);
9-			input.value = "";
			}
		})

10-	input.addEventListener("keypress", function(event) {
11-		if (input.value.length > 0 && event.keyCode === 13) {
12-			var li = document.createElement("li");
13-			li.appendChild(document.createTextNode(input.value));
14-			ul.appendChild(li);
15-			input.value = "";
			}
		})

Görüldüğü üzere burada aynı kodları kopyalayıp yapıştırdık ve aynı kod gibi görünüyor. Aynı işlevleri tekrar tekrar yazarsak (yukarıdaki gibi) JS script oldukça büyük bir hal alabilir. Bundan kaçınmak için bu kodlardan ortak olanları birleştirmemiz gerekir.

İlk kısaltabileceğimiz nokta 5 ve 11 numaralı satırlarda bulunan input.value.length'i bir function'a (inputLength) atamak olabilir.

6 ila 9 numaralı satırlar arasındaki kod ile 12-15 arası aynı. Onları da (createListElement adıyla) birleştirebiliriz.

Son olarak button ve input event listener'lardaki function'ları (4 ve 10. satırdan başlayan) onların içinden çıkarırsak okuması daha kolay bir kod elde edebiliriz. Yeni functionlar oluşturduğumuz için 4 ve 10. satırdaki function() kısımlarını çıkartabiliriz. Ancak keypress bölümünde dikkat etmemiz gereken nokta function'da parantez içindeki event kelimesini asıl function'daki parantez içine yazmayı unutmamalıyız. 

	var button = getElementById("enter");
	var input = document.getElementById("userinput");
	var ul = document.querySelector("ul");

	function inputLength() {
		return input.value.length;
	}

	function createListElement() {
		var li = document.createElement("li");
			li.appendChild(document.createTextNode(input.value));
			ul.appendChild(li);
			input.value = "";
	}

	function addListAfterClick() {
		if (inputLength() > 0) {
			createListElement();
			}
	}

	function addListAfterKeypress(event) {
		if (inputLength() > 0 && event.keyCode === 13) {
			createListElement();
			}
	}

	button.addEventListener("click", addListAfterClick);

	input.addEventListener("keypress", addListAfterKeypress);

Ders 99'dan devam